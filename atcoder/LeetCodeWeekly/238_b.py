from typing import List, Tuple
from pprint import pprint
class Solution:
    def maxFrequency(self, nums: List[int], k: int) -> int:
        l = 0
        nums.sort()
        res = 0
        sum = 0
        for r in range(len(nums)):
            sum += nums[r]
            while True:
                targetnum = nums[r] * (r - l + 1)
                if k < (targetnum - sum):
                    sum -= nums[l]
                    l += 1
                else:
                    res = max(res, (r - l + 1))
                    break
        print(res)
        return res

st = Solution()
print(st.maxFrequency(nums = [1,2,4], k = 5) == 3)
print(st.maxFrequency(nums = [1,4,8,13], k = 5) == 2)
print(st.maxFrequency( nums = [3,9,6], k = 2) == 1)
print(st.maxFrequency( nums = [9930,9923,9983,9997,9934,9952,9945,9914,9985,9982,9970,9932,9985,9902,9975,9990,9922,9990,9994,9937,9996,9964,9943,9963,9911,9925,9935,9945,9933,9916,9930,9938,10000,9916,9911,9959,9957,9907,9913,9916,9993,9930,9975,9924,9988,9923,9910,9925,9977,9981,9927,9930,9927,9925,9923,9904,9928,9928,9986,9903,9985,9954,9938,9911,9952,9974,9926,9920,9972,9983,9973,9917,9995,9973,9977,9947,9936,9975,9954,9932,9964,9972,9935,9946,9966] , k = 3056) == 73)
print(st.maxFrequency(nums=[9984,9974,9968,9975,9994,9930,9925,9964,9931,9912,9930,9993,9943,9945,9919,9964,9985,9991,9967,9911,9924,9967,9947,9988,9975,9995,9905,9949,9966,9926,9970,9950,9965,9941,9966,9911,9935,9903,9921,9933,9938,9945,9943,9934,9922,9968,9999,9996,9991,9903,9967,9981,9960,9948,9944,9901,9992,9962,9992,9981,9987,9970,9975,9991,9955,9901,9924,9974,9905,9979,9994,9982,9906,9926,9909,9933,9973,9940,9971,9980,9947,9970,9960,9925,9952,9976,9983,9925,9969,9992,9911,9935,9968,9921,9938,9998,9920,9920,9909,9974,9997,9914,9959,9995,9916,9912,9914,9906,9901,9995,9985,9954,9902,9969,9988,9919,9947,9958,9932,9982,9989,9937,9910,9931,9978,9962,9964,9906,9927,9976,9954,9988,9905,9943,9990,9978,9912,9927,9948,9942,9983,9981,9954,9983,9915,9994,9974,9904,9968,9960,9916,9940,9960,9909,9905,9945,9940,9976,9956,9953,9900,9990,9959,9996,9931,9926,9941,9943,9907,9946,9990,9993,9936,9908,9958,9979,9922,9952,9939,9991,9970,9991,9975,9956,9916,9901,9951,9967,9991,9930,9956,9955,9992,9979,9984,9957,9946,9953,9941,9982,9908,9926,9994,9997,9932,9906,9914,9938,9995,9982,9914,9977,9984,9904,9913,9997,9981,9985,9989,9993,9950,9901,9955,9925,9943,9965,9905,9946,9987,9953,9996,9982,9992,9930,9963,9926,9958,9963,9914,9927,9942,9949,9906,9904,9911,10000,9992,9968,9906,9974,9942,9968,9983,9953,9904,9982,9910,10000,9982,9912,9969,9996,9929,9935,9966,9973,9974,9977,9978,9986,9965,9918,9927,9938,9915,9980,9985,9955,9982,9962,9934,9922,9939,9921,9936,9957,9924,9944,9948,9954,9946,9963,9935,9983,9969,9913,9991,9910,9998,9918,9940,9983,9954,9999,9932,9914,9959,9964,9918,9909,9970,9973,9985,9918,9975,9961,9914,9981,9966,9968,9938,9974,9969,9953,9990,9985,9978,9935,9974,9936,9947,9954,9967,9950,9956,9985,9945,9956,9985,9925,9996,9962,9995,9980,9927,9942,9988,9930,9956,9990,9957,9921,9971,9958,9981,9999,9952,9957,9925,9953,9996,9906,9914,9907,9996,9968,9972,9961,9977,9925,10000,9985,9990,9938,9958,9986,9931,9976,9900,9987,9944,9995,9947,9971,9919,9945,9982,9928,9974,9953,9902,9975,9938,9974,9970,9908,9995,9953,9948,9905,9971,9911,9907,9906,9965,9936,9983,9938,9995,9930,9981,9906,9916,9980,9932,9922,9921,9991,9917,9949,9994,9942,9948,9970,9933,9984,9908,9984,9938,9901,9992,9990,9917,9935,9903,9950,9942,9910,9904,9989,9932,9934,9902,9930,9964,9962,9997,9958,9963,9988,9994,9989,9967,9929,9987,9985,9975,9918,9996,9914,9934,9992,9952,9934,9997,9975,9932,9953,9946,9976,9973,9949,9918,9931,9953,9911,9943,9968,9982,9996,9955,9960,9951,9995,9937,9984,9983,9917,9905,9958,9923,9968,9968,9935,9979,9986,9921,9942,9944,9943,9992,9949,9990,9960,9900,9957,9942,9961,9986,9976], k = 7900) == 311)